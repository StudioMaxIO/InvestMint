{"ast":null,"code":"var __jsx = React.createElement;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { Component } from \"react\";\nimport { Form, Button, Input, Message, Grid } from \"semantic-ui-react\";\nimport Layout from \"../../components/Layout\";\nimport web3 from \"../../ethereum/web3\";\nimport Token from \"../../ethereum/token\";\nimport { Router } from \"../../routes\";\n\nclass TokenShow extends Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"state\", {\n      reserveBlockErrorMessage: \"\",\n      sellTokensErrorMessage: \"\",\n      reserveBlockLoading: false,\n      sellTokensLoading: false,\n      tokensToSell: \"\",\n      tokensToTransfer: \"\",\n      transferToAddress: \"\"\n    });\n\n    _defineProperty(this, \"reserveTokenBlock\", async event => {\n      event.preventDefault();\n      this.setState({\n        reserveBlockLoading: true,\n        reserveBlockErrorMessage: \"\"\n      }); // try {\n      //   const accounts = await web3.eth.getAccounts();\n      //   await tokenFactory.methods\n      //     .createToken(\n      //       this.state.tokenName,\n      //       this.state.tokenSymbol,\n      //       this.state.wholeTokens,\n      //       this.state.decimals\n      //     )\n      //     .send({\n      //       from: accounts[0]\n      //     });\n      //\n      //   Router.pushRoute(\"/funding\");\n      // } catch (err) {\n      //   this.setState({ reserveTokenErrorMessage: err.message });\n      // }\n\n      this.setState({\n        reserveBlockLoading: false\n      });\n    });\n\n    _defineProperty(this, \"sellTokens\", async event => {\n      event.preventDefault();\n      this.setState({\n        sellTokensLoading: true,\n        sellTokensErrorMessage: \"\"\n      });\n      this.setState({\n        sellTokensLoading: false\n      });\n    });\n\n    _defineProperty(this, \"transferTokens\", async event => {\n      event.preventDefault();\n      this.setState({\n        transferTokensLoading: true,\n        transferTokensErrorMessage: \"\"\n      });\n      this.setState({\n        transferTokensLoading: false\n      });\n    });\n  }\n\n  static async getInitialProps(props) {\n    //const project = Project(props.query.address);\n    //const summary = await project.methods.getSummary().call();\n    return {\n      address: props.query.address,\n      tokenName: \"Token Name\",\n      tokenSymbol: \"TKNS\",\n      userBalance: \"2004.110\",\n      exchangeRate: \"10000503000000000\",\n      blockCost: \"1000000000023400000\",\n      tokensPerBlock: \"1000\"\n    };\n  }\n\n  render() {\n    return __jsx(Layout, {\n      page: \"wallet\"\n    }, __jsx(Grid, null, __jsx(Grid.Row, null, __jsx(Grid.Column, null, __jsx(\"h2\", null, this.props.tokenName, \" | \", this.props.tokenSymbol))), __jsx(Grid.Row, null, __jsx(Grid.Column, null, __jsx(\"h3\", null, \"Token Address: \", this.props.address))), __jsx(Grid.Row, null, __jsx(Grid.Column, {\n      width: 16\n    }, __jsx(\"h3\", null, \"1 \", this.props.tokenSymbol, \" =\", \" \", web3.utils.fromWei(this.props.exchangeRate, \"ether\"), \" Ether\"))), __jsx(Grid.Row, null, __jsx(Grid.Column, {\n      width: 7\n    }, __jsx(\"h3\", null, \"Sell Tokens:\"), __jsx(Form, {\n      onSubmit: this.sellTokens,\n      error: !!this.state.sellTokensErrorMessage\n    }, __jsx(Form.Field, null, __jsx(Input, {\n      label: this.props.tokenSymbol,\n      labelPosition: \"right\",\n      value: this.state.tokensToSell,\n      onChange: event => this.setState({\n        tokensToSell: event.target.value\n      })\n    })), __jsx(Message, {\n      error: true,\n      header: \"Oops!\",\n      content: this.state.sellTokensErrorMessage\n    }), __jsx(Button, {\n      loading: this.state.sellTokensLoading,\n      color: \"teal\"\n    }, \"Sell Tokens\")))), __jsx(Grid.Column, {\n      width: 10\n    }, __jsx(\"h3\", null, \"Transfer Tokens:\"), __jsx(\"p\", null, __jsx(\"strong\", null, \"Balance:\\xA0\", this.props.userBalance, \"\\xA0\", this.props.tokenSymbol)), __jsx(Form, {\n      onSubmit: this.transferTokens,\n      error: !!this.state.transferTokensErrorMessage\n    }, __jsx(Form.Field, null, __jsx(\"label\", null, \"Trasfer to:\"), __jsx(Input, {\n      placeholder: \"Wallet Address: 0x...\",\n      value: this.state.tokensToTransfer,\n      onChange: event => this.setState({\n        tokensToTransfer: event.target.value\n      })\n    })), __jsx(Message, {\n      error: true,\n      header: \"Oops!\",\n      content: this.state.transferTokensErrorMessage\n    }), __jsx(Button, {\n      color: \"teal\",\n      loading: this.state.transferTokensLoading\n    }, \"Transfer\")))));\n  }\n\n}\n\nexport default TokenShow;","map":null,"metadata":{},"sourceType":"module"}